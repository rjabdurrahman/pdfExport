<form onsubmit="submitInfo(event)">
    <div class="top-bar flex" style="z-index: 9999;">
        <button id="submitInfoBtn" type="submit" class="w3-button" disabled>
            <span class="material-icons-outlined">
                save
            </span>
        </button>
        <label>2019 - {{client.signaletique.contribuable.nom}}</label>
        <a onclick="resetPage()" class="w3-button refresh">
            <span class="material-icons">refresh</span>&nbsp;RÃ©initialiser
        </a>
    </div>
    <div class="flex">
        <div style="z-index: 999;" class="left-nav w3-bar-block">
            <left-nav></left-nav>
        </div>
        <div class="form-input">
            {{<identification.html}}
            {{<enfants.html}}
            {{<etat_civil.html}}
            {{<expouse.html}}
            {{<page5.html}}
            {{<page6.html}}
            {{<page7.html}}
            {{<page7.html}}
            {{<page8.html}}
            {{<page9.html}}
            {{<page10.html}}
            {{<page11.html}}
            {{<page12.html}}
            {{<page13.html}}
            {{<page14.html}}
            {{<page15.html}}
            {{<page16.html}}
            {{<page17.html}}
            {{<page18.html}}
            {{<page19.html}}
            {{<page20.html}}
        </div>
    </div>
</form>
<script>
    $('.form-input > *').hide();
    if (localStorage.activePage) {
        $('#page' + localStorage.activePage).show();
    }
    else {
        $('#page1').show();
    }
    function navPage(p, e) {
        $('.form-input > *').hide();
        $('#page' + p).show();
        localStorage.setItem('activePage', p);
        $('.left-nav .w3-button, .w3-dropdown-click').removeClass('active');
        $('.w3-dropdown-content').hide();
        if (e.className.indexOf("active") == -1) {
            e.className += " active";
        } else {
            e.className = e.className.replace(" active", "");
        }
    }
    function submitInfo(e) {
        let form = e.target;
        let id = location.href.split('id=')[1];
        axios.post('api/infoupdate/' + id, $(form).serializeArray())
            .then(res => {
                console.log(res.data)
            })
            .catch(err => console.log('Err', err.message));
    }
    function resetPage() {
        clearForm('.form-input #page' + localStorage.activePage);
    }
    $('input').keyup(function () {
        isSaveAlive(true);
    })
    /* window.onbeforeunload = function (e) {
        e = e || window.event;
        if (e) {
            if (!$('#submitInfoBtn')[0].disabled)
                e.returnValue = 'Sure?';
        }
        if (!$('#submitInfoBtn')[0].disabled) {
            return 'Sure?';
        }
        else return false;
    }; */
</script>